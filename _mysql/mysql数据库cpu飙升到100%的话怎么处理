当 CPU 飙升到 100%时，先用操作系统命令 top 命令观察是不是 mysqld 导致的
如果不是，找出占用高的进程，并进行相关处理
如果是 mysqld 造成的，MySQL数据库CPU飙升到100%可能是由多种原因造成的，例如复杂查询、并行处理、写入操作非常缓慢等。这里有一些处理办法：
    检查SQL查询：检查目前正在运行的查询，查找是否有复杂的、耗时长的查询。
        可以使用"SHOW PROCESSLIST"命令查看当前正在执行的查询，并使用"EXPLAIN"命令了解查询的执行计划，
        优化相关SQL语句。
    审查数据库配置：查看MySQL的配置设置，看看是否有些设置会导致CPU过高。
        例如，如果在批量插入数据时InnoDB引擎的innodb_flush_log_at_trx_commit参数设置为1，
        每次提交事务时都会把日志写入磁盘，这可能会导致CPU占用率高。
    设置并行查询：比如在查询大数据量时，将大查询转化成小的并行查询可能有助于降低CPU负载。
    利用索引：检查查询中使用的表的索引设置是否正确。
        如果缺少所需的索引，数据库可能需要在数据表中执行全表扫描，这非常消耗CPU资源。
    调整硬件配置：如果硬件资源有限，比如CPU的核心数较少，那么可能需要考虑扩展硬件资源，增加CPU核心数或升级服务器。
    减少并发连接数：如果有过多的并发连接，也可能会导致MySQL的CPU使用率急剧增加。
    可以降低并发连接数，或者使用连接池等技术来控制并发连接。
    数据库升级：如果你的MySQL版本较老，可能会存在一些已知的性能问题。可以考虑升级到新版本的MySQL。

请注意，这些都是常见的解决方案，具体应对方法还需要根据你的应用场景和问题的具体情况进行选择。
推荐在任何修改之前都先进行备份，以防止处理过程中出现不可预见的问题。

一旦在MySQL命令行中，你可以使用一些特定的命令去查看MySQL当前的运行状态。例如：
SHOW STATUS：这个命令会提供服务器状态信息。
SHOW VARIABLES：这个命令会显示MySQL服务器的系统变量，这些变量影响MySQL服务器的行为。
SHOW PROCESSLIST或者SHOW FULL PROCESSLIST：这些命令能显示哪些线程正在运行。这可以帮助你找出造成负载的查询。
通过SHOW ENGINE INNODB STATUS：可以获取InnoDB存储引擎的详细状态，包括当前正在执行的事务、锁等待情况等。

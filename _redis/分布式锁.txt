
1，分布式锁是什么
    分布式锁是一种常见的并发控制手段，它可以保证在分布式系统中，同一时刻只有一个客户端能够获取到锁，从而实现对共享资源的互斥访问。

2，实现
    基于缓存：可以利用分布式缓存系统如Redis来实现分布式锁。

        通过在Redis中设置一个特定的键值对来表示锁的状态，比如将锁的名字作为键，进程的标识作为值。

        当一个进程尝试获取锁时，可以使用SETNX命令（或类似的原子性操作）来设置键值对。
        如果设置成功，则表示获取了锁；如果设置失败，表示锁已经被其他进程持有。在释放锁时，可以使用DEL命令将键值对删除。

    其实更好的方法是基于 zookeeper，但是当时没有这个资源来做；集群，一主两从

    基于ZooKeeper：

        ZooKeeper是一个分布式协调服务，可以用于实现分布式锁。

        可以利用ZooKeeper的有序节点特性来实现锁的竞争和释放。

        每个进程在ZooKeeper上创建一个有序临时节点，节点的顺序代表获取锁的顺序。
        当一个进程想要获取锁时，检查自己创建的节点是否是当前最小的节点，如果是，则表示获取了锁；
        如果不是，则监听前一个节点的删除事件。当前一个节点被删除时，表示锁被释放，当前进程可以获取锁。
